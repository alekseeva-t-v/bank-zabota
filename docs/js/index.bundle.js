!function(){"use strict";var e={labelWelcome:document.querySelector(".nav__welcome"),labelDate:document.querySelector(".date"),labelBalance:document.querySelector(".balance__value"),labelSumIn:document.querySelector(".total__value--in"),labelSumOut:document.querySelector(".total__value--out"),labelSumInterest:document.querySelector(".total__value--interest"),labelTimer:document.querySelector(".timer"),containerMain:document.querySelector(".main__overlay"),containerTransactions:document.querySelector(".transactions"),btnLogin:document.querySelector(".login__btn"),btnTransfer:document.querySelector(".form__btn--transfer"),btnLoan:document.querySelector(".form__btn--loan"),btnClose:document.querySelector(".form__btn--close"),btnSort:document.querySelector(".btn--sort"),inputLoginUsername:document.querySelector(".login__input--user"),inputLoginPin:document.querySelector(".login__input--pin"),inputTransferTo:document.querySelector(".form__input--to"),inputTransferAmount:document.querySelector(".form__input--amount"),inputLoanAmount:document.querySelector(".form__input--loan-amount"),inputCloseUsername:document.querySelector(".form__input--user"),inputClosePin:document.querySelector(".form__input--pin")};const n=[{userName:"Cecil Ireland",transactions:[5e3,2500,-3e3,5e4,-8500,-1100,-1700,11e3],interest:1.5,pin:1111},{userName:"Amani Salt",transactions:[2e4,64e3,-13500,-700,-2100,-2e4,55e3,-300],interest:1.3,pin:2222},{userName:"Corey Martinez",transactions:[9e3,-2e3,2800,3e3,-2e3,1500,14e3,-4e3],interest:.8,pin:3333},{userName:"Kamile Searle",transactions:[5300,13e3,5e3,400,1900],interest:1,pin:4444},{userName:"Oliver Avila",transactions:[6300,8e3,3e3,500,1200],interest:1.1,pin:5555}];function t(n){var t;t=n.transactions,e.containerTransactions.innerHTML="",t.forEach(((n,t)=>{const r=`\n    <div class="transactions__row">\n      <div class="transactions__type transactions__type--${n>0?"deposit":"withdrawal"}">${t+1} ${n>0?"депозит":"вывод средств"}</div>\n      <div class="transactions__value">${n}</div>\n    </div>`;e.containerTransactions.insertAdjacentHTML("afterbegin",r)})),function(n){const t=n.transactions.reduce(((e,n)=>e+n),0);n.balance=t,e.labelBalance.innerHTML=`${t}₽`}(n),function(n){const t=n.transactions.filter((e=>e>0)).reduce(((e,n)=>e+n),0);e.labelSumIn.textContent=`${t}₽`;const r=n.transactions.filter((e=>e<0)).reduce(((e,n)=>e+n),0);e.labelSumOut.textContent=`${r}₽`;const a=n.transactions.filter((e=>e>0)).map((e=>e*n.interest/100)).filter((e=>e>=500)).reduce(((e,n)=>e+n),0);e.labelSumInterest.textContent=`${a}₽`}(n)}let r;e.btnLogin.addEventListener("click",(a=>{if(a.preventDefault(),r=n.find((n=>n.nickName===e.inputLoginUsername.value)),r?.pin===Number(e.inputLoginPin.value)){const n=r.userName.split(" ")[0];e.labelWelcome.textContent=`Рады, что Вы снова с нами, ${n}`,e.containerMain.style.opacity="1",e.inputLoginUsername.value="",e.inputLoginPin.value="",e.inputLoginPin.blur(),t(r)}})),e.btnTransfer.addEventListener("click",(a=>{a.preventDefault();const o=Number(e.inputTransferAmount.value),i=e.inputTransferTo.value,u=n.find((e=>e.nickName===i));e.inputTransferAmount.value="",e.inputTransferTo.value="",e.inputTransferAmount.blur(),o>0&&r.balance>=o&&u&&r.nickName!==u?.nickName&&(r.transactions.push(-o),u.transactions.push(o),t(r))})),n.forEach((e=>{e.nickName=e.userName.toLowerCase().split(" ").map((e=>e[0])).join("")}))}();